<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Point of Sales API.md</title>
    <link rel="stylesheet" href="index.min.css">
</head>

<body id="preview">
    <h1 class="code-line" data-line-start=0 data-line-end=1><a id="Point_of_Sales_API_0"></a>Point of Sales API</h1>
    <blockquote>
        <p class="has-line-data" data-line-start="2" data-line-end="3">RESTful API for Point of Sales App</p>
        <p style="text-align: center">
            <a href="https://nodejs.org/">
                <img title="Restful API" src="https://cdn-images-1.medium.com/max/871/1*d2zLEjERsrs1Rzk_95QU9A.png">
            </a>
        </p>
    </blockquote>
    <hr>
    <h2 class="code-line" data-line-start=5 data-line-end=6><a id="Table_of_contents_5"></a>Table of contents</h2>
    <ul>
        <li class="has-line-data" data-line-start="6" data-line-end="17"><a href="#point-of-sales-api">Point of Sales
                API</a>
            <ul>
                <li class="has-line-data" data-line-start="7" data-line-end="8"><a href="#table-of-contents">Table of
                        contents</a></li>
                <li class="has-line-data" data-line-start="8" data-line-end="9"><a href="#todo-tasks">TODO Tasks</a>
                </li>
                <li class="has-line-data" data-line-start="9" data-line-end="10"><a href="#stacks">Stacks</a></li>
                <li class="has-line-data" data-line-start="10" data-line-end="11"><a href="#build-setup">Build Setup</a>
                </li>
                <li class="has-line-data" data-line-start="11" data-line-end="17"><a href="#api-docs">API Docs</a>
                    <ul>
                        <li class="has-line-data" data-line-start="12" data-line-end="13"><a
                                href="#products">Products</a></li>
                        <li class="has-line-data" data-line-start="13" data-line-end="14"><a
                                href="#category">Category</a></li>
                        <li class="has-line-data" data-line-start="14" data-line-end="15"><a href="#user">User</a></li>
                        <li class="has-line-data" data-line-start="15" data-line-end="17"><a href="#auth">Auth</a></li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>
    <h2 class="code-line" data-line-start=17 data-line-end=18><a id="TODO_Tasks_17"></a>TODO Tasks</h2>
    <ul>
        <li class="has-line-data" data-line-start="18" data-line-end="19"><input type="checkbox" id="checkbox229"
                checked="true"><label for="checkbox229">CRUD Products</label></li>
        <li class="has-line-data" data-line-start="19" data-line-end="20"><input type="checkbox" id="checkbox230"
                checked="true"><label for="checkbox230">CRUD Categories</label></li>
        <li class="has-line-data" data-line-start="20" data-line-end="21"><input type="checkbox" id="checkbox231"
                checked="true"><label for="checkbox231">Unique name (on categories and product) and email (on
                users)</label></li>
        <li class="has-line-data" data-line-start="21" data-line-end="22"><input type="checkbox" id="checkbox232"
                checked="true"><label for="checkbox232">Add/Reduce Products (Quantity)</label></li>
        <li class="has-line-data" data-line-start="22" data-line-end="23"><input type="checkbox" id="checkbox233"
                checked="true"><label for="checkbox233">Validation schema</label></li>
        <li class="has-line-data" data-line-start="23" data-line-end="24"><input type="checkbox" id="checkbox234"
                checked="true"><label for="checkbox234">Search product by name</label></li>
        <li class="has-line-data" data-line-start="24" data-line-end="25"><input type="checkbox" id="checkbox235"
                checked="true"><label for="checkbox235">Sort product by name, category, date updated</label></li>
        <li class="has-line-data" data-line-start="25" data-line-end="26"><input type="checkbox" id="checkbox236"
                checked="true"><label for="checkbox236">Pagination products</label></li>
        <li class="has-line-data" data-line-start="26" data-line-end="27"><input type="checkbox" id="checkbox237"
                checked="true"><label for="checkbox237">Upload image (on products)</label></li>
        <li class="has-line-data" data-line-start="27" data-line-end="28"><input type="checkbox" id="checkbox238"
                checked="true"><label for="checkbox238">Cannot reduce stock (on products) below 0</label></li>
        <li class="has-line-data" data-line-start="28" data-line-end="29"><input type="checkbox" id="checkbox239"
                checked="true"><label for="checkbox239">Allowed CORS</label></li>
        <li class="has-line-data" data-line-start="29" data-line-end="30"><input type="checkbox" id="checkbox240"
                checked="true"><label for="checkbox240">Authentication with JWT</label></li>
        <li class="has-line-data" data-line-start="30" data-line-end="32"><input type="checkbox" id="checkbox241"
                checked="true"><label for="checkbox241">Rows caching with redis</label></li>
    </ul>
    <h2 class="code-line" data-line-start=32 data-line-end=33><a id="Stacks_32"></a>Stacks</h2>
    <ul>
        <li class="has-line-data" data-line-start="33" data-line-end="34">NodeJS</li>
        <li class="has-line-data" data-line-start="34" data-line-end="35">MySQL</li>
        <li class="has-line-data" data-line-start="35" data-line-end="36">ExpressJS</li>
        <li class="has-line-data" data-line-start="36" data-line-end="37">Sequelize ORM</li>
        <li class="has-line-data" data-line-start="37" data-line-end="38">JWT</li>
        <li class="has-line-data" data-line-start="38" data-line-end="39">Joi Validator</li>
        <li class="has-line-data" data-line-start="39" data-line-end="41">Redis</li>
    </ul>
    <h2 class="code-line" data-line-start=41 data-line-end=42><a id="Build_Setup_41"></a>Build Setup</h2>
    <ol>
        <li class="has-line-data" data-line-start="42" data-line-end="45">
            <p class="has-line-data" data-line-start="42" data-line-end="44">Clone repository<br>
                <code>$ git clone https://github.com/sutanlab/point-of-sales-api.git</code></p>
        </li>
        <li class="has-line-data" data-line-start="45" data-line-end="46">
            <p class="has-line-data" data-line-start="45" data-line-end="46">Install depedencies</p>
        </li>
    </ol>
    <pre><code class="has-line-data" data-line-start="47" data-line-end="53" class="language-bash"><span class="hljs-comment"># with npm</span>
$ npm install

<span class="hljs-comment"># or with yarn</span>
$ yarn install
</code></pre>
    <ol start="3">
        <li class="has-line-data" data-line-start="54" data-line-end="55">Setup your environment variable in
            <code>.env</code> files (if not exists, create your own).</li>
    </ol>
    <pre><code class="has-line-data" data-line-start="56" data-line-end="68" class="language-env"># NODE_ENV development | production | test
NODE_ENV = development

# SERVER
SERVER_PORT = 9600

# DATABASE
DB_HOSTNAME = 127.0.0.1
DB_USERNAME = root
DB_PASSWORD = xxxx
DB_NAME = dbtest

# SECRET KEY
SECRET_JWT = xxxx
</code></pre>
    <ol start="4">
        <li class="has-line-data" data-line-start="69" data-line-end="70">Run database migrations (with shortcut scripts
            with <code>yarn</code> or <code>npm run</code>)</li>
    </ol>
    <pre><code class="has-line-data" data-line-start="71" data-line-end="81" class="language-bash">$ yarn db:init <span class="hljs-comment"># create database</span>

$ yarn db:migrate <span class="hljs-comment"># run database migrations</span>

$ yarn db:seed <span class="hljs-comment"># run database seeder (if you want)</span>

$ yarn db:rollback <span class="hljs-comment"># rollback migrations</span>

$ yarn db:drop <span class="hljs-comment"># drop table</span>
</code></pre>
    <ol start="5">
        <li class="has-line-data" data-line-start="82" data-line-end="83">Start API server</li>
    </ol>
    <pre><code class="has-line-data" data-line-start="90" data-line-end="94" class="language-bash">$ yarn watch <span class="hljs-comment"># start and watch server</span>

$ yarn start <span class="hljs-comment"># start server</span>
</code></pre>
    <h2 class="code-line" data-line-start=87 data-line-end=88><a id="API_Docs_87"></a>API Docs</h2>
    <h3 class="code-line" data-line-start=89 data-line-end=90><a id="Products_89"></a>Product</h3>
    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>Method</th>
                <th>Endpoint</th>
                <th>Description</th>
                <th>Request Param</th>
                <th>Request Body</th>
                <th>Request Query</th>
                <th>Request Headers</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>GET</td>
                <td>/api/product</td>
                <td>Get products</td>
                <td>-</td>
                <td>-</td>
                <td><code>search</code>: STRING, <code>limit</code>: NUMBER, <code>page</code>: NUMBER,
                    <code>sort</code>: STRING (column with order splitted by ‘-’. Ex: <code>sort=name-asc (order by name
                        ASC)</code></td>
                <td>-</td>
            </tr>
            <tr>
                <td>POST</td>
                <td>/api/product</td>
                <td>Create new product</td>
                <td>-</td>
                <td><code>name</code>: STRING, <code>category</code>: STRING (UUID), <code>description</code>: STRING,
                    <code>price</code>: NUMBER, <code>stock</code>: NUMBER, <code>image: FILE</code></td>
                <td>-</td>
                <td><code>authorization</code>: STRING (TOKEN)</td>
            </tr>
            <tr>
                <td>GET</td>
                <td>/api/product/:id</td>
                <td>Get one product by id</td>
                <td><code>id</code>: STRING (UUID)</td>
                <td>-</td>
                <td>-</td>
                <td></td>
            </tr>
            <tr>
                <td>PUT</td>
                <td>/api/product/:id</td>
                <td>Update product</td>
                <td><code>id</code>: STRING (UUID)</td>
                <td><code>name</code>: STRING, <code>category</code>: STRING (UUID), <code>description</code>: STRING,
                    <code>price</code>: NUMBER, <code>stock</code>: NUMBER, <code>image: FILE</code></td>
                <td>-</td>
                <td><code>authorization</code>: STRING (TOKEN)</td>
            </tr>
            <tr>
                <td>DELETE</td>
                <td>/api/product/:id</td>
                <td>Delete product</td>
                <td><code>id</code>: STRING (UUID)</td>
                <td>-</td>
                <td>-</td>
                <td><code>authorization</code>: STRING (TOKEN)</td>
            </tr>
            <tr>
                <td>PATCH</td>
                <td>/api/product/stock/:id</td>
                <td>Add or reduce product</td>
                <td><code>id</code>: STRING (UUID)</td>
                <td><code>operator</code>: STRING (add/reduce), <code>value</code>: NUMBER</td>
                <td>-</td>
                <td><code>authorization</code>: STRING (TOKEN)</td>
            </tr>
            <tr>
                <td>GET</td>
                <td>/files/image/product/:image</td>
                <td>Get product image</td>
                <td><code>image</code>: STRING (IMAGE NAME)</td>
                <td>-</td>
                <td>-</td>
                <td></td>
            </tr>
        </tbody>
    </table>
    <h3 class="code-line" data-line-start=100 data-line-end=101><a id="Category_100"></a>Category</h3>
    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>Method</th>
                <th>Endpoint</th>
                <th>Description</th>
                <th>Request Param</th>
                <th>Request Body</th>
                <th>Request Query</th>
                <th>Request Headers</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>GET</td>
                <td>/api/category</td>
                <td>Get category</td>
                <td>-</td>
                <td>-</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>POST</td>
                <td>/api/category</td>
                <td>Create new category</td>
                <td>-</td>
                <td><code>name</code>: STRING</td>
                <td>-</td>
                <td><code>authorization</code>: STRING (TOKEN)</td>
            </tr>
            <tr>
                <td>GET</td>
                <td>/api/category/:id</td>
                <td>Get one category by id</td>
                <td><code>id</code>: STRING (UUID)</td>
                <td>-</td>
                <td>-</td>
                <td></td>
            </tr>
            <tr>
                <td>PUT</td>
                <td>/api/category/:id</td>
                <td>Update category</td>
                <td><code>id</code>: STRING (UUID)</td>
                <td><code>name</code>: STRING</td>
                <td>-</td>
                <td><code>authorization</code>: STRING (TOKEN)</td>
            </tr>
            <tr>
                <td>DELETE</td>
                <td>/api/category/:id</td>
                <td>Delete category</td>
                <td><code>id</code>: STRING (UUID)</td>
                <td>-</td>
                <td>-</td>
                <td><code>authorization</code>: STRING (TOKEN)</td>
            </tr>
        </tbody>
    </table>
    <h3 class="code-line" data-line-start=109 data-line-end=110><a id="User_109"></a>User</h3>
    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>Method</th>
                <th>Endpoint</th>
                <th>Description</th>
                <th>Request Param</th>
                <th>Request Body</th>
                <th>Request Query</th>
                <th>Request Headers</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>PUT</td>
                <td>/api/user/:id</td>
                <td>Update user</td>
                <td><code>id</code>: STRING (UUID)</td>
                <td><code>name</code>: STRING, <code>email</code>: STRING, <code>password</code>: STRING</td>
                <td>-</td>
                <td><code>authorization</code>: STRING (TOKEN)</td>
            </tr>
            <tr>
                <td>DELETE</td>
                <td>/api/user/:id</td>
                <td>Delete user</td>
                <td><code>id</code>: STRING (UUID)</td>
                <td>-</td>
                <td>-</td>
                <td><code>authorization</code>: STRING (TOKEN)</td>
            </tr>
        </tbody>
    </table>
    <h3 class="code-line" data-line-start=115 data-line-end=116><a id="Auth_115"></a>Auth</h3>
    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>Method</th>
                <th>Endpoint</th>
                <th>Description</th>
                <th>Request Param</th>
                <th>Request Body</th>
                <th>Request Query</th>
                <th>Request Headers</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>POST</td>
                <td>/auth/register</td>
                <td>Register user</td>
                <td>-</td>
                <td><code>name</code>: STRING, <code>email</code>: STRING, <code>password</code>: STRING</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>POST</td>
                <td>/auth/login</td>
                <td>Login user</td>
                <td>-</td>
                <td><code>email</code>: STRING, <code>password</code>: STRING</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>GET</td>
                <td>/auth/info</td>
                <td>Get user info</td>
                <td>-</td>
                <td>-</td>
                <td>-</td>
                <td><code>authorization</code>: STRING (TOKEN)</td>
            </tr>
        </tbody>
    </table>
    <hr>
    <p class="has-line-data" data-line-start="123" data-line-end="124">Copyright © 2019 by Sutan Gading Fadhillah
        Nasution</p>

</body>

</html>